# Figma MCP è¿æ¥çŠ¶æ€æŠ¥å‘Š

**æ£€æŸ¥æ—¶é—´**: 2025-10-16 15:40

---

## âœ… è¿æ¥çŠ¶æ€æ€»è§ˆ

### 1. Figma Desktop åº”ç”¨çŠ¶æ€
- **çŠ¶æ€**: âœ… è¿è¡Œä¸­
- **ä¸»è¿›ç¨‹**: `/Applications/Figma.app/Contents/MacOS/Figma` (PID: 78432)
- **Agent è¿›ç¨‹**: `figma_agent` (PID: 9396)
- **æ¸²æŸ“è¿›ç¨‹**: 10+ ä¸ªæ¸²æŸ“è¿›ç¨‹è¿è¡Œä¸­

### 2. MCP æœåŠ¡çŠ¶æ€
- **MCP ç«¯ç‚¹**: `http://127.0.0.1:3845/mcp`
- **çŠ¶æ€**: âœ… æœåŠ¡å“åº”æ­£å¸¸
- **éªŒè¯æ–¹æ³•**: `curl -I http://127.0.0.1:3845/mcp`
- **å“åº”**: HTTP 400 (æ­£å¸¸,MCP åè®®è¦æ±‚ç‰¹å®šè¯·æ±‚æ ¼å¼)

### 3. Claude Code é…ç½®
- **å…¨å±€é…ç½®**: `~/.mcp.json` âœ… å·²é…ç½®
- **å¯ç”¨çŠ¶æ€**: `~/.claude/settings.local.json` âœ… å·²å¯ç”¨
- **é…ç½®è¯¦æƒ…**:
  ```json
  {
    "figma-desktop": {
      "command": "npx",
      "args": ["-y", "mcp-remote@latest", "http://127.0.0.1:3845/mcp"],
      "disabled": false,
      "alwaysAllow": []
    }
  }
  ```
- **å¯ç”¨åˆ—è¡¨**: `figma-desktop` åœ¨ `enabledMcpjsonServers` ä¸­

---

## ğŸ“ é‡è¦è¯´æ˜

### CLI vs Claude Code

**ä¸ºä»€ä¹ˆ `claude mcp list` æ˜¾ç¤º"æ— é…ç½®"?**

- `claude` CLI å·¥å…·å’Œ Claude Code ä½¿ç”¨**ä¸åŒçš„é…ç½®ç³»ç»Ÿ**
- CLI å·¥å…·: ç®¡ç†å‘½ä»¤è¡Œç¯å¢ƒçš„ MCP é…ç½®
- Claude Code: ä½¿ç”¨ `~/.mcp.json` + `~/.claude/settings.local.json`

**åœ¨ Claude Code ä¸­ (å½“å‰ç¯å¢ƒ)**:
- âœ… Figma MCP **å·²é…ç½®**
- âœ… Figma MCP **å·²å¯ç”¨**
- âœ… Figma MCP **å¯ç›´æ¥ä½¿ç”¨**

---

## ğŸš€ ä¸‹ä¸€æ­¥: è·å– Figma æ–‡ä»¶ä¿¡æ¯

### Step 2: å¦‚ä½•è·å– Figma File Key å’Œ Node ID

#### æ–¹æ³• 1: ä» Figma URL æå–

**File Key ä½ç½®**:
```
https://figma.com/file/ABC123DEF456/Project-Name
                        ^^^^^^^^^^^^
                        è¿™æ˜¯ File Key
```

**Node ID ä½ç½®**:
```
https://figma.com/file/ABC123DEF456?node-id=123:456
                                              ^^^^^^^
                                              è¿™æ˜¯ Node ID
```

#### æ–¹æ³• 2: åœ¨ Figma Desktop ä¸­è·å–

1. **è·å– File Key**:
   - æ‰“å¼€ä»»æ„ Figma æ–‡ä»¶
   - æŸ¥çœ‹æµè§ˆå™¨åœ°å€æ  (æˆ– Figma Desktop ä¸­çš„æ–‡ä»¶ URL)
   - å¤åˆ¶ `/file/` åé¢çš„å­—ç¬¦ä¸²

2. **è·å– Node ID**:
   - åœ¨ Figma ä¸­é€‰æ‹©ä»»æ„å…ƒç´ 
   - å³é”® â†’ `Copy/Paste as` â†’ `Copy link`
   - ä»é“¾æ¥ä¸­æå– `node-id=` å‚æ•°

#### ç¤ºä¾‹

å‡è®¾ä½ çš„ Figma é“¾æ¥æ˜¯:
```
https://figma.com/file/abc123def456/My-Design?node-id=123:456
```

é‚£ä¹ˆ:
- **File Key**: `abc123def456`
- **Node ID**: `123:456`

---

## ğŸ§ª å‡†å¤‡æµ‹è¯•

### éœ€è¦å‡†å¤‡çš„ä¿¡æ¯

è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ä»¥è¿›è¡Œæµ‹è¯•:

1. **Figma File Key** (å¿…éœ€)
   - æ ¼å¼: å­—æ¯æ•°å­—ç»„åˆ,å¦‚ `abc123def456`
   - ä»å“ªé‡Œè·å–: Figma æ–‡ä»¶ URL

2. **Node ID** (å¯é€‰,ç”¨äºæµ‹è¯•ç‰¹å®šç»„ä»¶)
   - æ ¼å¼: æ•°å­—:æ•°å­—,å¦‚ `123:456`
   - ä»å“ªé‡Œè·å–: å³é”®å…ƒç´  â†’ Copy link

### æµ‹è¯•è®¡åˆ’

ä¸€æ—¦æœ‰äº† File Key,æˆ‘ä»¬å°†æµ‹è¯•:

1. âœ… æå–è®¾è®¡ç³»ç»Ÿ (é¢œè‰²ã€å­—ä½“ã€é—´è·)
2. âœ… è·å–ç»„ä»¶åˆ—è¡¨
3. âœ… æå–ç‰¹å®šç»„ä»¶ä¿¡æ¯
4. âœ… å¯¼å‡ºè®¾è®¡èµ„æº

---

## ğŸ“Š é…ç½®å®Œæ•´æ€§æ£€æŸ¥æ¸…å•

- [x] Figma Desktop åº”ç”¨å·²å®‰è£…å¹¶è¿è¡Œ
- [x] Figma Agent è¿›ç¨‹è¿è¡Œä¸­
- [x] MCP æœåŠ¡ç«¯ç‚¹å¯è®¿é—® (port 3845)
- [x] å…¨å±€ MCP é…ç½®å®Œæˆ (`~/.mcp.json`)
- [x] Claude Code å·²å¯ç”¨ Figma MCP
- [ ] è·å– Figma File Key (å¾…ç”¨æˆ·æä¾›)
- [ ] æµ‹è¯•æå–è®¾è®¡ç³»ç»Ÿ
- [ ] æµ‹è¯•ç»„ä»¶æå–åŠŸèƒ½

---

**çŠ¶æ€**: å‡†å¤‡å°±ç»ª,ç­‰å¾… Figma æ–‡ä»¶ä¿¡æ¯ä»¥è¿›è¡ŒåŠŸèƒ½æµ‹è¯•
**ä¸‹ä¸€æ­¥**: ç”¨æˆ·æä¾› Figma File Key æˆ– URL
