# CLAUDE.md

è¿™ä¸ªæ–‡ä»¶ä¸º Claude Code (claude.ai/code) æä¾›åœ¨æ­¤ä»£ç åº“ä¸­å·¥ä½œçš„æŒ‡å¯¼ã€‚

## è¯­è¨€æ ‡å‡†

**é‡è¦**: è¿™äº›è¯­è¨€è§„åˆ™å¿…é¡»å§‹ç»ˆéµå¾ª:

### ç”¨æˆ·äº¤äº’
- **è¯­è¨€**: ä¸­æ–‡ (Chinese)
- ä¸ç”¨æˆ·çš„æ‰€æœ‰æ²Ÿé€šä½¿ç”¨ä¸­æ–‡
- é”™è¯¯æ¶ˆæ¯å’ŒçŠ¶æ€æ›´æ–°ä½¿ç”¨ä¸­æ–‡

### ä»£ç ç”Ÿæˆ
- **è¯­è¨€**: ä»…è‹±æ–‡
- æ‰€æœ‰å˜é‡åä½¿ç”¨è‹±æ–‡
- æ‰€æœ‰å‡½æ•°åä½¿ç”¨è‹±æ–‡
- æ‰€æœ‰ä»£ç æ³¨é‡Šä½¿ç”¨è‹±æ–‡
- éµå¾ªæ ‡å‡†è‹±æ–‡å‘½åçº¦å®š (camelCase, PascalCase, snake_case)

### UI å…ƒç´ 
- **è¯­è¨€**: ä»…è‹±æ–‡
- æ‰€æœ‰æ ‡ç­¾ä½¿ç”¨è‹±æ–‡
- æ‰€æœ‰æŒ‰é’®ä½¿ç”¨è‹±æ–‡
- æ‰€æœ‰UIæ¶ˆæ¯ä½¿ç”¨è‹±æ–‡

## é¡¹ç›®æ¦‚è§ˆ

**é¡¹ç›®**: Anker Soundcore KCP (Knowledge Control Plane) çŸ¥è¯†ç®¡ç†å¹³å°
**æŠ€æœ¯æ ˆ**: Next.js 14 (App Router) + TypeScript + Tailwind CSS
**å½“å‰çŠ¶æ€**: æ ¸å¿ƒåŠŸèƒ½å®Œæˆ (90%), è¿›å…¥ä¼˜åŒ–é˜¶æ®µ

### æ¶æ„ç»“æ„

```
ankersckcp/
â”œâ”€â”€ frontend/                    # Next.js åº”ç”¨
â”‚   â”œâ”€â”€ app/                     # App Router é¡µé¢
â”‚   â”‚   â”œâ”€â”€ knowledge-graph/     # çŸ¥è¯†å›¾è°± (Canvaså¯è§†åŒ–)
â”‚   â”‚   â”œâ”€â”€ content-generator/   # å†…å®¹ç”Ÿæˆå™¨ (AIç”Ÿæˆ)
â”‚   â”‚   â”œâ”€â”€ smart-chat/          # æ™ºèƒ½å®¢æœ (èŠå¤©ç•Œé¢)
â”‚   â”‚   â””â”€â”€ analytics/           # æ•°æ®åˆ†æ (SVGå›¾è¡¨)
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                  # åŸºç¡€ç»„ä»¶ (Table, Select, Buttonç­‰)
â”‚   â”‚   â””â”€â”€ business/            # ä¸šåŠ¡ç»„ä»¶ (ContentPreview, ChatMessage)
â”‚   â””â”€â”€ styles/design-system/    # è®¾è®¡ç³»ç»ŸToken
â”œâ”€â”€ design/                      # Figmaè®¾è®¡æ–‡æ¡£
â””â”€â”€ .github/workflows/           # CI/CD (FigmaåŒæ­¥)
```

## å¸¸ç”¨å‘½ä»¤

### å¼€å‘
```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ– (é¦–æ¬¡)
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
# è®¿é—®: http://localhost:3000

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
npm start

# ä»£ç æ£€æŸ¥
npm run lint

# ç±»å‹æ£€æŸ¥
npm run type-check
```

### æµ‹è¯•
```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test

# è§†è§‰å›å½’æµ‹è¯• (Playwright)
cd frontend
npx playwright test
```

### Git å·¥ä½œæµ
```bash
# å·²é…ç½® GitHub Actions è‡ªåŠ¨åŒ–
# - Figmaè®¾è®¡åŒæ­¥
# - ä»£ç æ£€æŸ¥å’Œæµ‹è¯•
# - è‡ªåŠ¨éƒ¨ç½²
```

## æ ¸å¿ƒæ¶æ„æ¦‚å¿µ

### 1. è®¾è®¡ç³»ç»Ÿ (Design System)
æ‰€æœ‰æ ·å¼ä» `frontend/styles/design-system/` å¯¼å‡º:

```typescript
import { colors, typography, spacing } from '@/styles/design-system';

// è‰²å½©: ç´«ç½—å…°ä¸»é¢˜
colors.primary[500]  // #667eea (ä¸»ç´«è‰²)
colors.secondary[600] // #764ba2 (è¾…åŠ©ç´«ç½—å…°)

// æ’ç‰ˆ: Interå­—ä½“
typography.fontSizes.base // 16px

// é—´è·: 8ç‚¹ç½‘æ ¼
spacing[4] // 16px
```

**é‡è¦**: ä½¿ç”¨ Tailwind ç±»åæ—¶éµå¾ªè®¾è®¡ç³»ç»Ÿ:
- ä¸»è‰²: `bg-purple-600`, `text-purple-600`
- é—´è·: `p-4`, `gap-6`, `space-y-8` (8çš„å€æ•°)
- å­—ä½“: `font-inter`, `text-base`, `font-semibold`

### 2. é¡µé¢æ¶æ„ (App Router)

æ¯ä¸ªé¡µé¢ä½¿ç”¨ Next.js 14 App Router:

```typescript
// app/[feature]/page.tsx
export default function FeaturePage() {
  return (
    <MainLayout>
      {/* é¡µé¢å†…å®¹ */}
    </MainLayout>
  );
}
```

**å…³é”®é¡µé¢**:
- `knowledge-graph/page.tsx` - Canvas æ¸²æŸ“ + Force-directed å¸ƒå±€
- `content-generator/page.tsx` - è¡¨å• + å®æ—¶é¢„è§ˆ + è´¨é‡è¯„åˆ†
- `smart-chat/page.tsx` - æµå¼æ¶ˆæ¯ + WebSocket ready
- `analytics/page.tsx` - SVG å›¾è¡¨ + æ•°æ®è¡¨æ ¼

### 3. ç»„ä»¶æ¨¡å¼

**åŸºç¡€ç»„ä»¶** (`components/ui/`):
- é«˜åº¦å¯å¤ç”¨
- å®Œæ•´ TypeScript ç±»å‹
- æ”¯æŒå¤šç§å˜ä½“ (variant, size)
- åŒ…å«è¯¦ç»† JSDoc æ³¨é‡Š

```typescript
interface TableProps<T> {
  data: T[];
  columns: Column<T>[];
  variant?: 'default' | 'bordered' | 'striped';
  // ... è¯¦è§ç»„ä»¶å®šä¹‰
}
```

**ä¸šåŠ¡ç»„ä»¶** (`components/business/`):
- å°è£…å¤æ‚ä¸šåŠ¡é€»è¾‘
- å¯é…ç½®ä½†ä¸è¿‡åº¦æŠ½è±¡
- ç¤ºä¾‹: ContentPreview, ChatMessage

### 4. çŠ¶æ€ç®¡ç†

å½“å‰ä½¿ç”¨ React Hooks (useState, useEffect):

```typescript
// ç®€å•çŠ¶æ€
const [data, setData] = useState<DataType[]>([]);

// å¤æ‚çŠ¶æ€ (æœªæ¥å¯è¿ç§»è‡³ Zustand)
// å…¨å±€çŠ¶æ€ (æœªæ¥å¯ä½¿ç”¨ Context API)
```

### 5. æ€§èƒ½è€ƒè™‘

**Knowledge Graph**:
- ä½¿ç”¨åŸç”Ÿ Canvas API (éåº“ä¾èµ–)
- æ‰‹åŠ¨ä¼˜åŒ–æ¸²æŸ“å¾ªç¯
- èŠ‚ç‚¹æ•° < 100 æ—¶æ€§èƒ½æœ€ä½³

**Analytics Charts**:
- è‡ªå®šä¹‰ SVG å®ç° (é¿å…é‡ä¾èµ–)
- å“åº”å¼ç¼©æ”¾

**ä»£ç åˆ†å‰²**:
- è·¯ç”±çº§è‡ªåŠ¨åˆ†å‰² (Next.js)
- ç»„ä»¶çº§æ‡’åŠ è½½å¾…å®ç°

## Figma é›†æˆ

é¡¹ç›®é…ç½®äº†è‡ªåŠ¨åŒ– Figma åŒæ­¥:

```bash
# GitHub Actions: .github/workflows/figma-sync.yml
# è‡ªåŠ¨åŒæ­¥è®¾è®¡Tokenåˆ° frontend/styles/design-system/
```

**è®¾è®¡æ–‡ä»¶**:
- `design/DESIGN_SYSTEM_SPEC.md` - å®Œæ•´è®¾è®¡è§„èŒƒ
- `figma-extracted/` - Figmaå¯¼å‡ºçš„è®¾è®¡Token

## æŠ€æœ¯å†³ç­–è®°å½•

### TypeScript ä¸¥æ ¼æ¨¡å¼
- å¯ç”¨ `strict: true`
- ç¦æ­¢ `any` ç±»å‹ (0ä¸ªä½¿ç”¨)
- æ‰€æœ‰ç»„ä»¶éƒ½æœ‰å®Œæ•´ç±»å‹å®šä¹‰

### CSS æ–¹æ¡ˆ
- **ä¸»è¦**: Tailwind CSS 3.4 (JITæ¨¡å¼)
- **è®¾è®¡Token**: TypeScriptå¸¸é‡å¯¼å‡º
- **é¿å…**: CSS Modules, styled-components

### å›¾è¡¨åº“
- **é€‰æ‹©**: è‡ªå®šä¹‰SVGå®ç°
- **åŸå› **: é¿å…é‡ä¾èµ–, ç²¾ç¡®æ§åˆ¶æ ·å¼
- **æœªæ¥**: å¯è¿ç§»è‡³ D3.js å¦‚éœ€é«˜çº§å›¾è¡¨

### Canvas æ¸²æŸ“
- **Library**: æ—  (åŸç”Ÿ Canvas API)
- **å¸ƒå±€ç®—æ³•**: è‡ªå®šä¹‰ Force-directed å®ç°
- **åŸå› **: æœ€å°bundle size, å®Œå…¨æ§åˆ¶

## å¾…åŠä»»åŠ¡

### Phase 5: ä¼˜åŒ–å¢å¼º (é¢„è®¡8å°æ—¶)

**å“åº”å¼è®¾è®¡** (3å°æ—¶):
- ç§»åŠ¨ç«¯å¸ƒå±€ (< 640px)
- å¹³æ¿ç«¯ä¼˜åŒ– (640px-1024px)
- è§¦æ‘¸æ‰‹åŠ¿æ”¯æŒ

**æ€§èƒ½ä¼˜åŒ–** (2å°æ—¶):
- è·¯ç”±çº§ä»£ç åˆ†å‰²
- ç»„ä»¶æ‡’åŠ è½½
- å›¾ç‰‡ä¼˜åŒ– (Next.js Image)
- Bundle size ä¼˜åŒ–

**æµ‹è¯•è¦†ç›–** (3å°æ—¶):
- å•å…ƒæµ‹è¯• (Jest + RTL)
- E2Eæµ‹è¯• (Playwright)
- è§†è§‰å›å½’æµ‹è¯•

## ä»£ç è§„èŒƒ

### å‘½åçº¦å®š
```typescript
// ç»„ä»¶: PascalCase
function ContentPreview() {}

// å‡½æ•°: camelCase
function calculateScore() {}

// å¸¸é‡: UPPER_SNAKE_CASE
const MAX_RETRY_COUNT = 3;

// ç±»å‹: PascalCase
interface UserData {}
type StatusType = 'pending' | 'completed';
```

### æ–‡ä»¶ç»„ç»‡
```
feature-name/
â”œâ”€â”€ page.tsx          # é¡µé¢ä¸»ç»„ä»¶
â”œâ”€â”€ components/       # é¡µé¢ä¸“ç”¨ç»„ä»¶ (å¦‚éœ€è¦)
â””â”€â”€ utils.ts          # è¾…åŠ©å‡½æ•° (å¦‚éœ€è¦)
```

### å¯¼å…¥é¡ºåº
```typescript
// 1. React/Next.js
import { useState } from 'react';
import Image from 'next/image';

// 2. ç¬¬ä¸‰æ–¹åº“
import { LucideIcon } from 'lucide-react';

// 3. å†…éƒ¨ç»„ä»¶
import Button from '@/components/ui/Button';

// 4. å·¥å…·/ç±»å‹
import { colors } from '@/styles/design-system';
import type { User } from '@/types';
```

## å·²çŸ¥é™åˆ¶

1. **ç§»åŠ¨ç«¯**: å¸ƒå±€æœªä¼˜åŒ– (å¾…Phase 5)
2. **æµ‹è¯•**: æ— å•å…ƒæµ‹è¯•è¦†ç›– (å¾…Phase 5)
3. **Bundle Size**: åå¤§, éœ€ä»£ç åˆ†å‰² (å¾…Phase 5)
4. **å›¾ç‰‡**: æœªå¯ç”¨æ‡’åŠ è½½ (å¾…Phase 5)

## å‚è€ƒæ–‡æ¡£

**é¡¹ç›®å†…éƒ¨**:
- `DEVELOPMENT_COMPLETE_SUMMARY.md` - å®Œæ•´å¼€å‘æ€»ç»“
- `frontend/README.md` - å‰ç«¯å¿«é€Ÿå¼€å§‹æŒ‡å—
- `design/DESIGN_SYSTEM_SPEC.md` - è®¾è®¡è§„èŒƒ

**å¤–éƒ¨èµ„æº**:
- [Next.js 14 æ–‡æ¡£](https://nextjs.org/docs)
- [TypeScript æ‰‹å†Œ](https://www.typescriptlang.org/docs/)
- [Tailwind CSS](https://tailwindcss.com/docs)

## é¡¹ç›®çŠ¶æ€

**æ•´ä½“å®Œæˆåº¦**: 93% (Phases 1-4 å®Œæˆ, Phase 5 è¿›è¡Œä¸­ 70%)
**æœ€åæ›´æ–°**: 2025-10-22 20:45
**å½“å‰é˜¶æ®µ**: Phase 5 - å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¸æµ‹è¯•ï¼ˆ70% å®Œæˆï¼‰
**ä¸‹ä¸€é˜¶æ®µ**: Phase 5 - åç«¯æµ‹è¯•ã€æ–‡æ¡£ä¸å®‰å…¨

### å¼€å‘é˜¶æ®µè§„åˆ’

| é˜¶æ®µ | çŠ¶æ€ | å®Œæˆåº¦ | è¯´æ˜ |
|------|------|--------|------|
| Phase 0: é¡¹ç›®åˆå§‹åŒ– | âœ… å®Œæˆ | 100% | Gitä»“åº“ã€CI/CDã€é…ç½®æ–‡ä»¶ |
| Phase 1: å‰ç«¯å¼€å‘ | âœ… å®Œæˆ | 100% | 7ä¸ªé¡µé¢ã€14ä¸ªç»„ä»¶ã€å®Œæ•´UI |
| Phase 2: åç«¯å¼€å‘ | âœ… å®Œæˆ | 100% | 5ä¸ªå¾®æœåŠ¡ã€4ä¸ªæ•°æ®åº“ã€Docker |
| Phase 3: å‰åç«¯é›†æˆ | âœ… å®Œæˆ | 100% | APIé›†æˆã€æµ‹è¯•æ•°æ®ã€Mocké™çº§ |
| Phase 4: CI/CD & éƒ¨ç½² | âœ… å®Œæˆ | 100% | GitLab CIã€K8sã€ç›‘æ§é…ç½® |
| Phase 5: ä¼˜åŒ–ä¸æµ‹è¯• | ğŸ”„ è¿›è¡Œä¸­ | 70% | å‰ç«¯ä¼˜åŒ–âœ…ã€æµ‹è¯•è¦†ç›–âœ…ã€å“åº”å¼è®¾è®¡âœ…ã€ç›‘æ§é›†æˆâœ… |

### Phase 1: å‰ç«¯å¼€å‘ (âœ… å·²å®Œæˆ)

**ç›®æ ‡**: ç¡®ä¿æ‰€æœ‰å‰ç«¯é¡µé¢å¯ä»¥æ­£å¸¸è¿è¡Œ

**å·²å®Œæˆä»»åŠ¡**:
1. âœ… å®‰è£…å‰ç«¯ä¾èµ– (`npm install`)
2. âœ… å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (`npm run dev`) - è¿è¡Œåœ¨ http://localhost:3000
3. âœ… æµ‹è¯•æ‰€æœ‰ 7 ä¸ªé¡µé¢åŠŸèƒ½
4. âœ… ä¿®å¤è¿è¡Œæ—¶é”™è¯¯ (ç»„ä»¶å¯¼å‡ºã€Mockæ•°æ®)
5. âœ… ä»£ç è´¨é‡æ£€æŸ¥
6. âœ… å‰ç«¯ API å±‚å®ç° (useApi, mock fallback)

**äº¤ä»˜æˆæœ**:
- âœ… 7 ä¸ªæ ¸å¿ƒé¡µé¢ä»£ç  (2,906 è¡Œ)
- âœ… 14 ä¸ªç»„ä»¶ (11 UI + 3 ä¸šåŠ¡)
- âœ… æ‰€æœ‰é…ç½®æ–‡ä»¶ (package.json, tsconfig.json ç­‰)
- âœ… è®¾è®¡ç³»ç»Ÿé›†æˆ
- âœ… API å®¢æˆ·ç«¯å±‚ with è‡ªåŠ¨ Mock é™çº§
- âœ… Git æäº¤å’Œæ¨é€

### Phase 2: åç«¯å¼€å‘ (âœ… å·²å®Œæˆ)

**ç›®æ ‡**: å®ç°æ‰€æœ‰åç«¯å¾®æœåŠ¡å’Œæ•°æ®åº“

**å·²å®Œæˆä»»åŠ¡**:
1. âœ… è®¾è®¡ API æ¶æ„å’Œæ•°æ®åº“ schema
2. âœ… å®ç° 5 ä¸ªå¾®æœåŠ¡:
   - Knowledge Service (:8001) - çŸ¥è¯†ç®¡ç†ã€äº§å“ä¿¡æ¯ã€æœç´¢
   - Content Service (:8002) - å†…å®¹ç”Ÿæˆ
   - Support Service (:8003) - å®¢æœæ”¯æŒ
   - Analytics Service (:8004) - æ•°æ®åˆ†æ
   - Auth Service (:8005) - ç”¨æˆ·è®¤è¯
3. âœ… é…ç½®æ•°æ®åº“ (PostgreSQL, MongoDB, Redis, Neo4j)
4. âœ… Docker Compose ç¼–æ’
5. âœ… æ•°æ®åº“è¿ç§»å’Œ ORM (SQLAlchemy)
6. âœ… API æ–‡æ¡£ç”Ÿæˆ (FastAPI è‡ªåŠ¨ç”Ÿæˆ)

**æŠ€æœ¯æ ˆ**:
- Python 3.11 + FastAPI
- PostgreSQL 16 (å…³ç³»æ•°æ®) - ç«¯å£ 5433
- MongoDB 7 (æ–‡æ¡£æ•°æ®) - ç«¯å£ 27019
- Neo4j 5.15 (çŸ¥è¯†å›¾è°±) - ç«¯å£ 7477/7690
- Redis 7 (ç¼“å­˜) - ç«¯å£ 6383
- Docker + Docker Compose

**äº¤ä»˜æˆæœ**:
- âœ… 5 ä¸ªå®Œæ•´çš„ FastAPI å¾®æœåŠ¡
- âœ… å®Œæ•´çš„æ•°æ®åº“ schema å®šä¹‰
- âœ… Docker å®¹å™¨åŒ–é…ç½®
- âœ… API å¥åº·æ£€æŸ¥ç«¯ç‚¹
- âœ… CORS é…ç½®å’Œä¸­é—´ä»¶

### Phase 3: å‰åç«¯é›†æˆ (âœ… å·²å®Œæˆ)

**ç›®æ ‡**: å°†å‰ç«¯è¿æ¥åˆ°åç«¯APIï¼Œå®ç°å®Œæ•´åŠŸèƒ½

**å·²å®Œæˆä»»åŠ¡**:
1. âœ… å‰ç«¯ API è°ƒç”¨å±‚å®ç° (`lib/api/`)
2. âœ… æ•°æ®æµé›†æˆæµ‹è¯• (Knowledge, Analytics APIs)
3. âœ… é”™è¯¯å¤„ç†å’Œ Mock é™çº§æœºåˆ¶
4. âœ… æµ‹è¯•æ•°æ®æ·»åŠ  (3ä¸ªäº§å“ï¼Œ5ä¸ªçŸ¥è¯†æ¡ç›®)
5. âœ… ä¿®å¤ Pydantic åºåˆ—åŒ–é—®é¢˜
6. âœ… ä¿®å¤æ•°æ®åº“ schema å…¼å®¹æ€§

**äº¤ä»˜æˆæœ**:
- âœ… API å®¢æˆ·ç«¯å®Œæ•´å®ç°
- âœ… è‡ªåŠ¨ Mock æ•°æ®é™çº§
- âœ… æµ‹è¯•æ•°æ®ç§å­è„šæœ¬
- âœ… æ‰€æœ‰ API ç«¯ç‚¹éªŒè¯é€šè¿‡
- âœ… å‰ç«¯æˆåŠŸå±•ç¤ºåç«¯æ•°æ®

**è§£å†³çš„å…³é”®é—®é¢˜**:
- Docker ç«¯å£å†²çª (é‡æ–°åˆ†é…ç«¯å£)
- MongoDB è®¤è¯ (æ·»åŠ  authSource=admin)
- CORS é…ç½®æ ¼å¼ (JSON æ•°ç»„)
- API 307 é‡å®šå‘ (ç»Ÿä¸€ trailing slashes)
- æ•°æ®åº“æšä¸¾å¤§å°å†™ (ç»Ÿä¸€å¤§å†™)
- Pydantic Optional å­—æ®µ

### Phase 4: CI/CD & éƒ¨ç½² (âœ… å·²å®Œæˆ)

**ç›®æ ‡**: å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œç›‘æ§

**å·²å®Œæˆä»»åŠ¡**:
1. âœ… Docker å®¹å™¨åŒ– (æ‰€æœ‰æœåŠ¡)
2. âœ… Kubernetes éƒ¨ç½²é…ç½® (k8s/base/)
3. âœ… GitLab CI å®Œæ•´æµç¨‹ (.gitlab-ci-complete.yml)
4. âœ… Blue-Green ç”Ÿäº§éƒ¨ç½²ç­–ç•¥
5. âœ… ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿé…ç½® (Prometheus + Grafana)
6. âœ… è‡ªåŠ¨å›æ»šæœºåˆ¶

**äº¤ä»˜æˆæœ**:
- âœ… å®Œæ•´çš„ GitLab CI/CD pipeline (7ä¸ªé˜¶æ®µ)
- âœ… Kubernetes manifests (namespace, deployments, services)
- âœ… å®Œæ•´éƒ¨ç½²æ–‡æ¡£ (CICD-DEPLOYMENT-GUIDE.md, 599è¡Œ)
- âœ… å¥åº·æ£€æŸ¥å’Œç›‘æ§é…ç½®
- âœ… Staging + Production ç¯å¢ƒé…ç½®

**CI/CD æµç¨‹**:
1. **Lint** â†’ ä»£ç è´¨é‡æ£€æŸ¥
2. **Test** â†’ å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•
3. **Build** â†’ Docker é•œåƒæ„å»º
4. **Deploy Staging** â†’ éƒ¨ç½²åˆ° staging ç¯å¢ƒ
5. **E2E Test** â†’ ç«¯åˆ°ç«¯æµ‹è¯•
6. **Deploy Production** â†’ Blue-Green ç”Ÿäº§éƒ¨ç½²
7. **Monitor** â†’ å¥åº·æ£€æŸ¥ + é€šçŸ¥

### Phase 5: ä¼˜åŒ–ä¸æµ‹è¯• (ğŸ”„ è¿›è¡Œä¸­ - 70% å®Œæˆ)

**ç›®æ ‡**: æ€§èƒ½ä¼˜åŒ–ã€å®Œæ•´æµ‹è¯•è¦†ç›–ã€å“åº”å¼è®¾è®¡ã€ç”Ÿäº§å°±ç»ª

**å·²å®Œæˆä»»åŠ¡** (2025-10-22):
1. âœ… **å‰ç«¯æ€§èƒ½ä¼˜åŒ– - SWR æ•°æ®ç¼“å­˜**
   - âœ… å®‰è£…å’Œé…ç½® SWR åº“ï¼ˆé™æ€ã€å®æ—¶ã€åˆ†æä¸‰ç§ç­–ç•¥ï¼‰
   - âœ… åˆ›å»ºè‡ªå®šä¹‰ Hooksï¼ˆKnowledgeã€Analyticsã€Dashboardï¼‰
   - âœ… é‡æ„ Knowledge é¡µé¢ä½¿ç”¨ SWRï¼ˆç¼“å­˜å¤±æ•ˆã€ä¹è§‚æ›´æ–°ï¼‰
   - âœ… é‡æ„ Dashboard é¡µé¢ä½¿ç”¨ SWRï¼ˆLoading Skeletonï¼‰
   - âœ… é‡æ„ Analytics é¡µé¢ä½¿ç”¨ SWRï¼ˆæ‰¹é‡åˆ·æ–°ï¼‰

2. âœ… **æµ‹è¯•æ¡†æ¶ - Jest + React Testing Library**
   - âœ… å®‰è£…å’Œé…ç½® Jestï¼ˆNext.js é›†æˆã€è¦†ç›–ç‡é˜ˆå€¼ï¼‰
   - âœ… é…ç½® Jest ç¯å¢ƒï¼ˆjsdomã€mocksï¼‰
   - âœ… ç¼–å†™ Button ç»„ä»¶æµ‹è¯•ï¼ˆ49 tests, 100% è¦†ç›–ï¼‰
   - âœ… ç¼–å†™ Card ç»„ä»¶æµ‹è¯•ï¼ˆ52 tests, 100% è¦†ç›–ï¼‰
   - âœ… ç¼–å†™ Input ç»„ä»¶æµ‹è¯•ï¼ˆ44 tests, 100% è¦†ç›–ï¼‰
   - âœ… ç¼–å†™ KnowledgeCard ä¸šåŠ¡ç»„ä»¶æµ‹è¯•ï¼ˆ15 tests, 100% è¦†ç›–ï¼‰
   - âœ… è¿è¡Œæµ‹è¯•å¹¶éªŒè¯è¦†ç›–ç‡ï¼ˆ160 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼‰

3. âœ… **E2E æµ‹è¯• - Playwright**
   - âœ… Playwright å·²é¢„é…ç½®ï¼ˆå¤šæµè§ˆå™¨ã€å¤šè®¾å¤‡ï¼‰
   - âœ… åˆ›å»º Homepage E2E æµ‹è¯•ï¼ˆ8 ä¸ªæµ‹è¯•ï¼‰
   - âœ… åˆ›å»º Dashboard E2E æµ‹è¯•ï¼ˆ8 ä¸ªæµ‹è¯•ï¼‰
   - âœ… åˆ›å»º Knowledge E2E æµ‹è¯•ï¼ˆ10 ä¸ªæµ‹è¯•ï¼‰
   - âœ… åˆ›å»º Responsive å“åº”å¼æµ‹è¯•ï¼ˆ114 ä¸ªæµ‹è¯•ï¼‰
   - âœ… æ€§èƒ½é¢„ç®—éªŒè¯ï¼ˆé¡µé¢åŠ è½½ < 3 ç§’ï¼‰

4. âœ… **æ€§èƒ½ç›‘æ§ - Web Vitals**
   - âœ… å®‰è£… web-vitals åº“
   - âœ… åˆ›å»º Web Vitals ç›‘æ§æ¨¡å—ï¼ˆLCPã€FIDã€CLSã€FCPã€TTFBã€INPï¼‰
   - âœ… é›†æˆåˆ°åº”ç”¨æ ¹å¸ƒå±€
   - âœ… å¼€å‘ç¯å¢ƒæ§åˆ¶å°æ—¥å¿—ï¼ˆå¸¦æ€§èƒ½è¯„çº§ï¼‰
   - âœ… ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨ä¸ŠæŠ¥åˆ†æç«¯ç‚¹

5. âœ… **å“åº”å¼è®¾è®¡ä¼˜åŒ–**
   - âœ… Dashboard é¡µé¢ç§»åŠ¨ç«¯ä¼˜åŒ–ï¼ˆå¤´éƒ¨ã€æŒ‰é’®ç»„ã€ç½‘æ ¼å¸ƒå±€ï¼‰
   - âœ… Knowledge é¡µé¢ç§»åŠ¨ç«¯ä¼˜åŒ–ï¼ˆä¾§è¾¹æ æŠ˜å ã€æœç´¢æ ã€è¿‡æ»¤å™¨ï¼‰
   - âœ… è§¦æ‘¸ç›®æ ‡ä¼˜åŒ–ï¼ˆæœ€å° 44pxï¼Œç¬¦åˆ WCAG 2.1ï¼‰
   - âœ… è§¦æ‘¸åé¦ˆåŠ¨ç”»ï¼ˆactive:scale æ•ˆæœï¼‰
   - âœ… å“åº”å¼æ’ç‰ˆï¼ˆç§»åŠ¨ç«¯ text-2xlï¼Œæ¡Œé¢ç«¯ sm:text-3xlï¼‰
   - âœ… å“åº”å¼é—´è·ï¼ˆç§»åŠ¨ç«¯ px-4ï¼Œå¹³æ¿ç«¯ sm:px-6ï¼‰
   - âœ… Button ç»„ä»¶è§¦æ‘¸ä¼˜åŒ–ï¼ˆmin-h-[44px]ï¼Œtouch-manipulationï¼‰
   - âœ… KnowledgeCard èœå•è§¦æ‘¸ä¼˜åŒ–ï¼ˆ44x44px è§¦æ‘¸ç›®æ ‡ï¼‰

**æµ‹è¯•è¦†ç›–æ€»ç»“**:
```
âœ… å•å…ƒæµ‹è¯•: 160 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡
âœ… E2E æµ‹è¯•: 140 ä¸ªæµ‹è¯•ï¼ˆHomepageã€Dashboardã€Knowledgeã€Responsiveï¼‰
âœ… ä»£ç è¦†ç›–ç‡: æ ¸å¿ƒç»„ä»¶ 100%ï¼ˆButtonã€Cardã€Inputã€KnowledgeCardï¼‰
âœ… æ€§èƒ½ç›‘æ§: Web Vitals å®æ—¶è¿½è¸ª
âœ… å“åº”å¼æµ‹è¯•: 101/114 é€šè¿‡ (88.6%)
```

**å“åº”å¼è®¾è®¡è¦†ç›–**:
```
âœ… ç§»åŠ¨ç«¯ (< 640px): iPhone SE, iPhone 14 Pro Max
âœ… å¹³æ¿ç«¯ (640-1024px): iPad, iPad Air
âœ… æ¡Œé¢ç«¯ (> 1024px): Desktop, iPad Pro landscape
âœ… è§¦æ‘¸ç›®æ ‡: æœ€å° 44x44px (WCAG 2.1 Level AAA)
âœ… æµ‹è¯•æµè§ˆå™¨: Chrome, Firefox, Safari, Mobile Chrome, Mobile Safari, Tablet Chrome
```

**å¾…å®Œæˆä»»åŠ¡**:
1. â¹ï¸ åç«¯æµ‹è¯•å®Œå–„
   - API é›†æˆæµ‹è¯•
   - è´Ÿè½½æµ‹è¯•
   - æ•°æ®åº“æ€§èƒ½æµ‹è¯•
2. â¹ï¸ æ–‡æ¡£å®Œå–„
   - API ä½¿ç”¨æ–‡æ¡£
   - éƒ¨ç½²è¿ç»´æ‰‹å†Œ
   - ç”¨æˆ·ä½¿ç”¨æŒ‡å—
3. â¹ï¸ å®‰å…¨åŠ å›º
   - ä¾èµ–å®‰å…¨æ‰«æ
   - API é€Ÿç‡é™åˆ¶
   - æ•°æ®åŠ å¯†ä¼ è¾“

## å¼€å‘æ—¥å¿—

è¯¦ç»†çš„å¼€å‘è¿›åº¦å’Œé—®é¢˜è¿½è¸ªè¯·æŸ¥çœ‹: `DEVELOPMENT-LOG.md`

## è‡ªåŠ¨åŒ– CI/CD

é¡¹ç›®å·²é…ç½®è‡ªåŠ¨åŒ–æµç¨‹:

### GitHub Actions
- **Figma Sync**: è‡ªåŠ¨åŒæ­¥è®¾è®¡ç³»ç»Ÿ
- **ä½ç½®**: `.github/workflows/figma-sync.yml`
- **è§¦å‘**: æ‰‹åŠ¨è§¦å‘ / å®šæ—¶ä»»åŠ¡ (æ¯å¤©9:00 AM)

### GitLab CI
- **é…ç½®**: `.gitlab-ci.yml` + `.gitlab-ci-figma-sync.yml`
- **åŠŸèƒ½**: åŒæ­¥ã€éªŒè¯ã€æµ‹è¯•ã€é€šçŸ¥

### å®‰å…¨ç®¡ç†
- Token å®‰å…¨å­˜å‚¨åœ¨ `.env` æ–‡ä»¶
- ä½¿ç”¨ `scripts/secure-git-push.sh` å®‰å…¨æ¨é€
- è¯¦è§ `SECURITY-GUIDE.md`

## ä¸‹ä¸€æ­¥æ“ä½œ

**ç«‹å³è¡ŒåŠ¨** (Phase 1):
```bash
cd frontend
npm install
npm run dev
```

**æµ‹è¯•æ¸…å•**:
1. è®¿é—® http://localhost:3000
2. æµ‹è¯•æ‰€æœ‰é¡µé¢é“¾æ¥å’ŒåŠŸèƒ½
3. æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯æ—¥å¿—
4. ä¿®å¤å‘ç°çš„é—®é¢˜
5. è¿è¡Œ `npm run lint` å’Œ `npm run type-check`

**å®Œæˆ Phase 1 å**:
- æ›´æ–° `DEVELOPMENT-LOG.md`
- Git æäº¤å’Œæ¨é€
- å¼€å§‹ Phase 2 åç«¯å¼€å‘
